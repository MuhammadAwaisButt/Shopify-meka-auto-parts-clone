customElements.get("filter-slider")||customElements.define("filter-slider",class extends HTMLElement{constructor(){super(),this.slider=this.querySelector(".filter-slider-wrap"),this.slides=this.querySelectorAll(".filter-slider-slide"),this.pagination=this.querySelector(".pagination"),this.youtubeIframes=this.querySelectorAll(".js-youtube"),this.vimeoIframes=this.querySelectorAll(".js-vimeo"),this.videos=this.querySelectorAll(".filter-slider-slide video"),this.currentIndex=0,this.setupPagination(),this.updateMediaState()}goToSlide(index){index<0||index>=this.slides.length||(this.currentIndex=index,this.slider.style.transform=`translateX(-${this.currentIndex*100}vw)`,this.updatePagination(),this.updateMediaState())}setupPagination(){this.pagination.querySelectorAll(".dot").forEach((dot,index)=>{index===0&&(dot.classList.add("active"),this.updateMediaState()),dot.addEventListener("click",()=>this.goToSlide(index)),dot.addEventListener("keydown",event=>{(event.key==="Enter"||event.key===" ")&&(event.preventDefault(),this.goToSlide(index))})})}updatePagination(){this.pagination.querySelectorAll(".dot").forEach((dot,index)=>{index===this.currentIndex?dot.classList.add("active"):dot.classList.remove("active")})}updateMediaState(){this.videos.forEach(video=>video.pause()),this.youtubeIframes.forEach(iframe=>{iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),this.vimeoIframes.forEach(iframe=>{iframe.contentWindow.postMessage('{"method":"pause"}',"*")});const activeSlide=this.slides[this.currentIndex],activeVideos=activeSlide.querySelectorAll("video"),activeYoutubeIframe=activeSlide.querySelector(".js-youtube"),activeVimeoIframe=activeSlide.querySelector(".js-vimeo");activeVideos.forEach(video=>{video.play()}),activeYoutubeIframe&&activeYoutubeIframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"),activeVimeoIframe&&activeVimeoIframe.contentWindow.postMessage('{"method":"play"}',"*")}connectedCallback(){document.addEventListener("shopify:section:load",this.handleSectionLoad.bind(this)),document.addEventListener("shopify:section:unload",this.handleSectionUnload.bind(this)),document.addEventListener("shopify:block:select",this.handleBlockSelect.bind(this))}handleSectionLoad(event){this.setupPagination(),this.goToSlide(0)}handleSectionUnload(event){this.pagination.innerHTML=""}handleBlockSelect(event){if(!event.target.classList.contains("filter-slider-slide"))return;const filterSlide=event.target,slideIndex=Array.from(this.slides).indexOf(filterSlide);slideIndex!==-1&&this.goToSlide(slideIndex)}});
//# sourceMappingURL=/cdn/shop/t/107/assets/slider-filter.js.map?v=27546780487693165181722415762
